<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Question Bank Management System</title>
    <link rel="stylesheet" href="/static/styles.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>Question Bank Management System</h1>
        <p class="subtitle">
          Manage descriptive exam questions with duplicate detection
        </p>
      </header>

      <nav class="tabs">
        <button class="tab-btn active" onclick="showTab('add', this)">
          Add Question
        </button>
        <button class="tab-btn" onclick="showTab('check', this)">
          Check Similarity
        </button>
        <button class="tab-btn" onclick="showTab('search', this)">
          Search Questions
        </button>
        <button class="tab-btn" onclick="showTab('usage', this)">
          Usage History
        </button>
      </nav>

      <!-- Add Question Tab -->
      <div id="add-tab" class="tab-content active">
        <h2>Add New Question</h2>
        <form id="add-question-form" onsubmit="addQuestion(event)">
          <div class="form-group">
            <label for="question-text">Question Text *</label>
            <textarea
              id="question-text"
              rows="5"
              required
              minlength="10"
            ></textarea>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="subject">Subject *</label>
              <input type="text" id="subject" required />
            </div>
            <div class="form-group">
              <label for="topic">Topic</label>
              <input type="text" id="topic" />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="difficulty">Difficulty Level *</label>
              <select id="difficulty" required>
                <option value="">Select...</option>
                <option value="Easy">Easy</option>
                <option value="Medium">Medium</option>
                <option value="Hard">Hard</option>
              </select>
            </div>
            <div class="form-group">
              <label for="marks">Marks *</label>
              <input type="number" id="marks" min="1" required />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="exam-type">Exam Type *</label>
              <input
                type="text"
                id="exam-type"
                required
                placeholder="e.g., Mid, End-Sem, Practical, Internal, External"
              />
            </div>
            <div class="form-group">
              <label for="college">College *</label>
              <input type="text" id="college" required />
            </div>
          </div>
          <button type="submit" class="btn btn-primary">Add Question</button>
        </form>
        <div id="add-result" class="result-message"></div>
      </div>

      <!-- Check Similarity Tab -->
      <div id="check-tab" class="tab-content">
        <h2>Check Question Similarity</h2>
        <form id="check-similarity-form" onsubmit="checkSimilarity(event)">
          <div class="form-group">
            <label for="check-question-text">Question Text *</label>
            <textarea
              id="check-question-text"
              rows="5"
              required
              minlength="10"
            ></textarea>
          </div>
          <button type="submit" class="btn btn-primary">
            Check Similarity
          </button>
        </form>
        <div id="similarity-result" class="result-message"></div>
        <div id="similar-questions-list" class="questions-list"></div>
      </div>

      <!-- Search Questions Tab -->
      <div id="search-tab" class="tab-content">
        <h2>Search Questions</h2>
        <form id="search-form" onsubmit="searchQuestions(event)">
          <div class="form-row">
            <div class="form-group">
              <label for="search-text">Search Text</label>
              <input
                type="text"
                id="search-text"
                placeholder="Search in question text..."
              />
            </div>
            <div class="form-group">
              <label for="search-subject">Subject</label>
              <input
                type="text"
                id="search-subject"
                placeholder="Filter by subject..."
              />
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="search-exam-type">Exam Type</label>
              <input
                type="text"
                id="search-exam-type"
                placeholder="Filter by exam type..."
              />
            </div>
            <div class="form-group">
              <label for="search-college">College</label>
              <input
                type="text"
                id="search-college"
                placeholder="Filter by college..."
              />
            </div>
          </div>
          <button type="submit" class="btn btn-primary">Search</button>
        </form>
        <div id="search-results" class="questions-list"></div>
      </div>

      <!-- Usage History Tab -->
      <div id="usage-tab" class="tab-content">
        <h2>Question Usage History</h2>
        <form id="usage-form" onsubmit="getUsageHistory(event)">
          <div class="form-group">
            <label for="usage-question-id">Question ID *</label>
            <input type="number" id="usage-question-id" min="1" required />
          </div>
          <button type="submit" class="btn btn-primary">Get History</button>
        </form>
        <div id="usage-results" class="usage-list"></div>
      </div>
    </div>

    <script src="/static/app.js"></script>
  </body>
</html>
